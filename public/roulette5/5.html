<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Map test V5</title>
  
  <script type='text/javascript' src='jquery-1.7.1.js'></script>
   <script type='text/javascript' src='countdown.js'></script>
   
   <style type='text/css' src='countdowncss.css'></style>
  
  <style type='text/css'>
  
  .styled{
  position:absolute;
  top:20px;
  right:50px;
  width:150px;
  height:50px;
  background-color:#ead182;
   }

.diskmap{
position: absolute;
 top:100px;
left: 50px;
}

.bgdiv{
position:absolute; 
top:0px;left:0px;
background-image: url(bg.png); 
width:1156px; 
height:768px;

}

.megatext{
position:absolute;
 top:100px;
 left:550px;
 background-image: url(megatext2+.png);
 width:587px; 
height:660px;
}

.textinside{
padding-left:40px;
padding-top:10px;
 color:#ffc750;
 font-size:14pt;
}

.alarm{
position:absolute;
display:none;
 top:0px;
 left:0px;
  width:1156px; 
height:768px;
background-image: url(alarm.png);
}

#alarmp{
 color:#ff0000;
 font-size:20pt;
 padding-left:40px;
}

#image{
top: 285px;
left: 475px;
}

.input{
position:absolute; 
top:620px; 
left:50px; 
background-image:url(input2+.png);
 width:296px; 
 height:61px; 
 z-index:10;
}
#inputarea{
background: transparent;
margin-top:15px;
margin-left:10px;
 width:260px; 
 height:25px; 
 border:none;
 outline: none;
 color:#ffc750;
 font-size:14pt;
 padding-left:10px;
}

.okbut{
width:142px;
height:60px;
position:absolute; 
top:620px; 
left:350px; 
 z-index:10;
}

.serviceinput{
position:absolute; 
top:570px; 
left:50px; 
background-image:url(service_input2+.png);
width:445px;
height:39px;
}

#serviceinputarea{
 color:#ffc750;
 font-size:14pt;
 padding-left:15px;
 width:445px;
 height:39px;
 border:none;
 outline: none;
 background: transparent;
}

.arrow{
position: absolute;
 top:295px;
left: 490px;
}

.spinner{
position:absolute; 
top:690px; 
left:45px; 
width:466px;
height:68px;
}
  </style>
  
 <style type='text/css'>

.styled div {
  display: inline-block;
  margin-left: 10px;
  font-size: 30px;
  font-weight: 100;
  line-height: 1;
  text-align: right;
}
/* IE7 inline-block hack */
*+html .styled div{
  display: inline;
  zoom: 1;
}
.styled div:first-child {
  margin-left: 0;
}
.styled div span {
  display: block;
  border-top: 1px solid #cecece;
  padding-top: 3px;
  font-size: 12px;
  font-weight: normal;
  text-transform: uppercase;
  text-align: left;
}
 </style>


<script type='text/javascript'>
var value = 0;
var oldvalue = 0;
var i = 0;
var j = 0;
var levelone = [1,2,3,4,5,6,7,8,9,10,11,12];
var levelzero = [[1,1],[2,8],[4,0],[4,0],[5,3],[6,5],[7,7],[8,2],[9,11],[10,6],[11,10],[12,4]]; //уровень/множитель
var leveltwo = [ [5,3],[6,5],[1,1],[2,8],[3,9],[4,0],[7,7],[8,2],[9,11],[10,6],[11,10],[12,4]];
//var leveltwo = [5,6,1,2,3,4,7,8,9,10,11,12];
//var levelthreee = [7,8,9,10,11,12,6,5,4,3,2,1];
var levelthree = [[7,7],[8,2],[9,11],[10,6],[11,10],[12,4],[6,5],[5,3],[4,0],[4,0],[2,8],[1,1]];
var currentlevel = [];
	
function rotatemywheel0(){
		oldvalue = value; 
		var subvalue = 0;
		var rndValue = getRandomInt(1,12);
		value += rndValue*30;
		//subvalue = value+15+1800;
		subvalue = 0*30+15+1800;
		randomText(rndValue);
		$("#arrowhead").rotate({

		angle: oldvalue,
		center: ["-420%", "50%"], 
		animateTo:subvalue,
		duration:4000

		});

};

//0 1 2 3 4 5 6 7 8 9 10 11  а это множитель для вращения
//4 1 8 5 12 6 10 7 2 3 11 9  это внутри массива ^


function rotatemywheel(){
if (i<25) {

if (i==0) {
oldvalue = i==0?0:levelzero[j][0];
		var subvalue = levelzero[j][1]*30+15+1800;
		var rndValue = levelzero[j][0];
		randomText(i);
			j++;
		i++;
		
		
		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
	}
	
else if (i%2 != 0 )  {
		oldvalue = i==0?0:levelzero[j-1][0];
		var subvalue = levelzero[j][1]*30+15+1800;
		var rndValue = levelzero[j][0];
		randomText(i);
		i++;
		j++
		
		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
				
	}
	else{
	randomText(i);
		i++;
	}
}	
};

function rotatemywheel2(){
if (i<25) {

if (i==0) {
oldvalue = i==0?0:leveltwo[j][0];
		var subvalue = leveltwo[j][1]*30+15+1800;
		var rndValue = leveltwo[j][0];
		randomText(i);
			j++;
		i++;
		
		
		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
	}
	
else if (i%2 != 0 )  {
		oldvalue = i==0?0:leveltwo[j-1][0];
		var subvalue = leveltwo[j][1]*30+15+1800;
		var rndValue = leveltwo[j][0];
		randomText(i);
		i++;
		j++
		
		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
				
	}
	else{
	randomText(i);
		i++;
	}
}	
};

function rotatemywheel3(){
if (i<25) {

if (i==0) {
oldvalue = i==0?0:levelthree[j][0];
		var subvalue = levelthree[j][1]*30+15+1800;
		var rndValue = levelthree[j][0];
			
		randomText(i);
			j++;
		i++;
	
		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
	}
	
else if (i%2 != 0 )  {
		oldvalue = i==0?0:levelthree[j-1][0];
		var subvalue = levelthree[j][1]*30+15+1800;
		var rndValue = levelthree[j][0];
				randomText(i);
		i++;
		j++

		
		$("#arrowhead").rotate({
			angle: oldvalue,
			center: ["-420%", "50%"], 
			animateTo:subvalue,
			duration:4000
		});
				
	}
	else{
	randomText(i);
		i++;
	}
}	
};

function getRandomInt(min, max)
{
  return Math.floor(Math.random() * (max - min + 1)) + min;
};

function randomText(rnd){
var r_text = new Array ();
/*r_text[0] = 'Первое задание простое, очень простое, ну ваще простое';
r_text[1] = 'Между первой и второй может быть ваще хз!';
r_text[2] = 'ИГОП!<br> <img src="hg.png" width="500px";>';
r_text[3] = '8/8!!!!1111';
r_text[4] = 'Бампер под замену!<br> <img src="hg.png" width="500px";>';
r_text[5] = 'If I was in L.A.<br> <img src="hg.png" width="500px";>';
r_text[6] = 'California dreaming, On such a winters day';
r_text[7] = '7th Heaven';
r_text[8] = 'Двойной пончик!';
r_text[9] = 'Полурыбность!';
r_text[10] = 'Щит и Копье!';
r_text[11] = 'Куриные лапки!';
r_text[12] = 'Аллес';*/
r_text[0] = '1<br> <img src="hg.png" width="500px";>';
r_text[1] = '2';
r_text[2] = '3<br> <img src="hg.png" width="500px";>';
r_text[3] = '4';
r_text[4] = '5<br> <img src="hg.png" width="500px";>';
r_text[5] = '6';
r_text[6] = '7<br> <img src="hg.png" width="500px";>';
r_text[7] = '8';
r_text[8] = '9<br> <img src="hg.png" width="500px";>';
r_text[9] = '10';
r_text[10] = '11<br> <img src="hg.png" width="500px";>';
r_text[11] = '12';
r_text[12] = '13<br> <img src="hg.png" width="500px";>';
r_text[13] = '14';
r_text[14] = '15<br> <img src="hg.png" width="500px";>';
r_text[15] = '16';
r_text[16] = '17<br> <img src="hg.png" width="500px";>';
r_text[17] = '18';
r_text[18] = '19<br> <img src="hg.png" width="500px";>';
r_text[19] = '20';
r_text[20] = '21<br> <img src="hg.png" width="500px";>';
r_text[21] = '22';
r_text[22] = '23<br> <img src="hg.png" width="500px";>';

//var i = Math.random();
//i = 12 * i;
//i = Math.floor(i);

$("p.textinside").html(r_text[rnd]);
}

</script>


</head>
<body>
<script type="text/javascript" src="jQueryRotate.js"></script>
<script type="text/javascript" src="jquery.easing.min.js"></script>
<div class="bgdiv">

<div class="alarm" id="alarm">
	<p id="alarmp">ПРЕКРАТИТЬ ВЫПОЛНЕНИЕ! СРОЧНО НА БАЗУ!!</p>
</div>

<div class="countdown styled" id="countdown">

</div>

<div class="diskmap">
	<img src="disk2+.png" id="disk">
</div>

<div class="arrow">
	<img src="arrow6.png" id="arrowhead">
</div>


<div class="serviceinput">
	<input type="text" readonly id="serviceinputarea" value="Вы заблокированы на 2 минуты"></input>
</div>

<div class="input">
	<input type="text" id="inputarea"></input>
</div>

<div class="okbut">
	<img src="ok2+.png"
	onmouseout="this.src='ok2+.png'"
	onmouseover="this.src='ok_hover.png'"
	>
</div>

<div class="spinner">
	<img src="spin2+.png"
	onmouseout="this.src='spin2+.png'"
	onmouseover="this.src='spin_hover.png'"
	onclick="rotatemywheel();"
	>
</div>

<div class="debug" style="position:absolute; top:800px;">
<input style="width:500px;" type="button" value="1" onclick="rotatemywheel2();"></input> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<input style="width:500px;" type="button" value="2" onclick="rotatemywheel3();"></input>
</div>

<div class="megatext">
<p class="textinside">А здесь идёт наш очешуенный текст задания</p>
</div>  

</div>

<script type="text/javascript">
$(function () {

Date.prototype.addHours = function(h){
   // this.setHours(this.getHours()+h);  //+1hour
   this.setTime(this.getTime() + (1*h*60*1000));
    return this; 
}
$('.countdown').countdown({
//date: new Date(<%=timeStart -%>),
date: new Date().addHours(1),
render: function (data) {
var el = $(this.el);
el.empty()
.append("<div>" + this.leadingZeros(data.hours, 2) + " <span>hrs</span></div>")
.append("<div>" + this.leadingZeros(data.min, 2) + " <span>min</span></div>")
.append("<div>" + this.leadingZeros(data.sec, 2) + " <span>sec</span></div>");
},
onEnd: function () {
//window.location.href = "/map";
//alert("!!!");
document.getElementById("alarm").style.display = "block";
document.getElementById("countdown").style.display = "none";

}
});

});
</script>
</body>


</html>

